# 稳定性看板 - 快速测试指南

## 🚀 快速开始（5分钟）

### 1️⃣ 编译项目

```bash
cd /Users/zhangxuanyang/Desktop/Quant/alpha-auto-bot
npm run build:ts
npm run build:popup
```

### 2️⃣ 加载插件

1. 打开 Chrome 浏览器
2. 访问 `chrome://extensions`
3. 打开右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择项目的 `extension/` 目录
6. 确认插件已加载成功

### 3️⃣ 测试稳定性看板

#### 方式 A: 从 Popup 进入（推荐）

1. 点击浏览器工具栏的插件图标
2. 查看弹出窗口，应该在顶部看到新按钮：
   ```
   📊 稳定性看板
   ```
3. 点击该按钮
4. 新标签页应该自动打开稳定性看板

#### 方式 B: 直接访问

1. 复制插件 ID（在 chrome://extensions 页面）
2. 在地址栏输入：
   ```
   chrome-extension://[你的插件ID]/stability.html
   ```

### 4️⃣ 验证功能

打开看板后，检查以下内容：

- [ ] 页面顶部显示"📊 稳定性看板"标题
- [ ] 有刷新🔄和返回🏠按钮
- [ ] 数据成功加载（无错误提示）
- [ ] Top 3 推荐卡片正常显示
- [ ] 每个卡片包含：
  - 排名（#1, #2, #3）
  - 币种名称（如 ALEO）
  - 综合评分（如 200分）
  - 价格、稳定性、价差、天数
  - 推荐理由
- [ ] 完整表格正常显示
- [ ] 表格包含所有币种数据
- [ ] 最后更新时间显示正确
- [ ] 评分说明和免责声明显示

### 5️⃣ 测试自动刷新

1. 打开浏览器开发者工具 (F12)
2. 切换到 Network 标签
3. 等待 8 秒
4. 应该看到新的请求到 `stability_feed_v2.json`
5. 页面数据应自动更新

### 6️⃣ 测试手动刷新

1. 点击右上角的刷新🔄按钮
2. 查看 Network 标签
3. 应该立即发起新请求
4. 数据应该刷新

### 7️⃣ 测试返回功能

1. 点击右上角的返回🏠按钮
2. 应该自动打开 popup.html 页面

## ✅ 预期结果

### Top 3 推荐示例

当前（2025-10-04）的 Top 3 应该类似：

```
#1 ALEO - 200分
✨ 稳定性优秀，价差极低，适合稳定套利

#2 AOP - 200分
✨ 稳定性优秀，价差极低，适合稳定套利

#3 KOGE - 150分
👍 稳定性良好，价差合理
```

### 完整表格示例

| 排名 | 币种 | 稳定性 | 价差 | 天数 | 评分 |
|------|------|--------|------|------|------|
| 🥇 | ALEO | 稳定 | 0.00 | 10 | 200 |
| 🥈 | AOP | 稳定 | 0.00 | 15 | 200 |
| 🥉 | KOGE | 稳定 | 0.02 | 0 | 150 |

## 🐛 常见问题

### 问题 1: 数据无法加载

**症状**: 显示"加载失败"错误

**解决方案**:
1. 检查网络连接
2. 确认 manifest.json 中有 `https://alpha123.uk/*` 权限
3. 打开开发者工具查看 Console 错误
4. 点击"重试"按钮

### 问题 2: 编译失败

**症状**: `npm run build:ts` 报错

**解决方案**:
```bash
# 重新安装依赖
npm install

# 清理并重新编译
rm -rf extension/dist/stability/
npm run build:ts
```

### 问题 3: Popup 没有看到新按钮

**症状**: Popup 中没有"📊 稳定性看板"按钮

**解决方案**:
```bash
# 重新编译 popup
npm run build:popup

# 在 chrome://extensions 点击刷新按钮
```

### 问题 4: 点击按钮没反应

**症状**: 点击"📊 稳定性看板"按钮后没有打开新标签

**解决方案**:
1. 打开开发者工具查看 Console
2. 检查 stability.html 是否存在
3. 重新加载插件

## 📊 数据验证

### 检查实时数据

访问数据源确认：
```
https://alpha123.uk/stability/stability_feed_v2.json
```

应该看到类似的 JSON：
```json
{
  "lastUpdated": 1759566316,
  "items": [
    {
      "n": "ALEO/USDT",
      "p": 0.253356,
      "st": "green:stable",
      "md": 10,
      "spr": 0.0004
    },
    ...
  ]
}
```

### 验证评分算法

使用浏览器 Console 测试：

```javascript
// 打开 stability.html
// 在 Console 中运行：

// ALEO 示例
const item = {
  st: "green:stable",  // 100分
  spr: 0.0004,        // 50分 (0.0004 * 10 ≈ 0)
  md: 10              // 50分 (5-15天最佳)
};
// 预期总分: 100 + 50 + 50 = 200分
```

## 🎯 性能检查

### 网络性能

1. 打开 Network 标签
2. 刷新页面
3. 检查：
   - ✅ 请求数量 < 5
   - ✅ 总大小 < 10KB
   - ✅ 加载时间 < 1秒

### 内存使用

1. 打开 Performance Monitor (Ctrl+Shift+P → "Show Performance Monitor")
2. 观察内存使用
3. 正常情况下：
   - ✅ JS Heap < 15MB
   - ✅ DOM Nodes < 500

## 📝 测试清单

打印此清单进行测试：

### 基础功能
- [ ] 插件成功加载
- [ ] Popup 显示新按钮
- [ ] 点击按钮打开看板
- [ ] 数据成功加载
- [ ] Top 3 卡片显示正确
- [ ] 完整表格显示正确

### 交互功能
- [ ] 自动刷新（8秒）
- [ ] 手动刷新按钮
- [ ] 返回按钮
- [ ] 加载状态显示
- [ ] 错误处理显示

### 数据准确性
- [ ] 币种名称正确
- [ ] 价格显示正确
- [ ] 稳定性标签正确
- [ ] 价差数值正确
- [ ] 天数显示正确
- [ ] 评分计算正确

### UI/UX
- [ ] 渐变背景美观
- [ ] 卡片布局合理
- [ ] 表格响应式
- [ ] 图标显示正常
- [ ] 颜色搭配协调

## 🎉 测试通过标准

如果以上所有项目都通过 ✅，恭喜你！稳定性看板集成成功！

## 📞 需要帮助？

如果遇到问题：

1. 查看 `STABILITY_INTEGRATION.md` 完整文档
2. 检查浏览器 Console 错误信息
3. 确认所有文件都已正确编译
4. 联系开发团队

---

**测试版本**: 0.1.0
**测试日期**: 2025-10-04
**预计测试时间**: 5-10 分钟
